# BigDataAnalytics Homework2

####Team Member : 
  **B10015035 蘇育民**  

  **B10015036 陳尹清**

  **B10015037 蘇斌綸**



##Introduction

###Environment
####Spark 1.3.1
**Method => Logistic Regression**<br>
**Classes => 2(normal and abnormal)**<br>

####Execute
```
$SPARK_HOME/bin/spark-submit kddtrain.py
```
####Training Data (Kddcup99)
Training Data only use two labels(0 or 1)<br>
Testing Data use corrected data

## Result
**Precision = 0.998714041244**<br>
**Recall = 0.80158148911**<br>
**Training Error = 0.00431342199165**<br>
tp = 3909555, tn = 16095, fp = 5034, fn = 967747
3909555.0 16095.0 5034.0 967747.0  


## Confusion Matrix
Rows/Cols|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22
-----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----
1|59627.0 |4.0|0.0|0.0|     1.0|    631.0| 3.0| 17.0| 37.0|  66.0|   7.0| 0.0| 0.0|    6.0| 0.0|   99.0| 0.0|   2.0| 0.0| 0.0| 0.0| 0.0
2|18.0    |4.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
3|2.0     |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
4|2.0     |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
5|16.0    |0.0|0.0|0.0| 57952.0|      0.0| 0.0|  0.0|  0.0|  23.0|   0.0| 0.0| 0.0|    0.0| 0.0|   10.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
6|94.0    |0.0|0.0|0.0|     0.0| 163994.0| 0.0|  0.0|  0.0|   0.0|   3.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
7|4357.0  |0.0|0.0|0.0|     0.0|      0.0| 4.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    4.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
8|2.0     |0.0|0.0|0.0|     0.0|      0.0| 0.0| 81.0|  0.0|   0.0|   4.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
9|0.0     |0.0|0.0|0.0|     0.0|      0.0| 0.0|  4.0|  8.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
10|17.0   |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0| 336.0|   1.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
11|5.0    |0.0|0.0|0.0|     0.0|      3.0| 0.0|  0.0|  0.0|   0.0| 297.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   1.0| 0.0| 0.0| 0.0| 0.0
12|4.0    |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 5.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
13|3.0    |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
14|27.0   |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0| 1071.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
15|0.0    |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   1.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
16|148.0  |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|  18.0|   2.0| 0.0| 0.0|    0.0| 0.0| 1464.0| 0.0|   1.0| 0.0| 0.0| 0.0| 0.0
17|2.0    |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
18|1.0    |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|  83.0| 0.0| 0.0| 0.0| 0.0
19|18.0   |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
20|1595.0 |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   6.0| 0.0| 0.0|    0.0| 0.0|    0.0| 0.0|   0.0| 0.0| 0.0| 0.0| 0.0
21|10.0   |0.0|0.0|0.0|     0.0|      0.0| 0.0|  0.0|  0.0|   0.0|   0.0| 0.0| 0.0|    2.0| 0.0|    0.0| 0.0|   0.0| 1.0| 0.0| 0.0| 0.0
22|17561.0|1.0|0.0|0.0|   342.0|      0.0| 3.0|  0.0|  0.0|  25.0|  23.0| 0.0| 0.0|    0.0| 0.0|  626.0| 1.0| 118.0| 0.0| 0.0| 0.0| 0.0
precision|0.7140188482678513|0.4444444444444444 |0.0|0.0|0.9941161334591303|0.9961488932623855|0.4                 |0.7941176470588235|0.17777777777777778|0.7164179104477612|0.8658892128279884|1.0|0.0|0.9925857275254866|0.0|0.6645483431684067|0.0|0.40487804878048783|0.0|0.0|0.0|0.0
recall   |0.9855702479338843|0.18181818181818182|0.0|0.0|0.9991551869795349|0.9994088645934268|9.163802978235968E-4 |0.9310344827586207|0.6666666666666666 |0.9491525423728814|0.9705882352941176|0.5555555555555556|0.0|0.9754098360655737|0.0|0.8965094917330068|0.0|0.9880952380952381|0.0|0.0|0.0|0.0
